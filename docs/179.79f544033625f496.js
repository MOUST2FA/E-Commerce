"use strict";(self.webpackChunkprohects=self.webpackChunkprohects||[]).push([[179],{3179:(C,p,e)=>{e.r(p),e.d(p,{ProductCategoryComponent:()=>P});var d=e(177),l=e(3276),c=e(9969),t=e(2598),_=e(6323),o=e(5794),s=e(7889);const u=function(n){return["/details",n]};function v(n,g){if(1&n){const r=t.RV6();t.j41(0,"div",5)(1,"div",6)(2,"div",7),t.nrm(3,"img",8),t.k0s(),t.j41(4,"div",9)(5,"h4",10),t.EFF(6),t.k0s(),t.j41(7,"h6",11),t.EFF(8),t.k0s(),t.j41(9,"div",12)(10,"p",13),t.EFF(11),t.k0s(),t.j41(12,"p",13),t.nrm(13,"i",14),t.EFF(14),t.k0s()()()(),t.j41(15,"div",15)(16,"button",16,17),t.bIt("click",function(){const h=t.eBV(r).$implicit,m=t.sdS(17),b=t.XpG(2);return t.Njj(b.addCart(h._id,m))}),t.EFF(18,"+add To Cart"),t.k0s()()()}if(2&n){const r=g.$implicit;t.Y8G("@translateY",void 0),t.R7$(1),t.Y8G("routerLink",t.eq3(8,u,r._id)),t.R7$(2),t.Y8G("src",r.imageCover,t.B4B)("alt",r.title),t.R7$(3),t.JRh(r.category.name),t.R7$(2),t.JRh(r.title.split(" ",2).join(" ")),t.R7$(3),t.SpI("",r.price," EGP"),t.R7$(3),t.SpI(" ",r.ratingsAverage,"")}}function E(n,g){if(1&n&&(t.j41(0,"div",3),t.DNE(1,v,19,10,"div",4),t.k0s()),2&n){const r=t.XpG();t.R7$(1),t.Y8G("ngForOf",r.displayProductCategory)}}function f(n,g){1&n&&t.nrm(0,"div",18)}let P=(()=>{class n{constructor(r,a,i,h,m){this._Renderer2=r,this._CartService=a,this._ToastrService=i,this._BlankService=h,this._ActivatedRoute=m,this.displayProductCategory=[],this.prodId=""}ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:r=>{this.prodId=r.get("id")}}),this._BlankService.getProductCategory(this.prodId).subscribe({next:r=>{this.displayProductCategory=r.data},error:r=>{console.log(r)}})}addCart(r,a){this._Renderer2.setAttribute(a,"disabled","true"),this._CartService.addToCart(r).subscribe({next:i=>{this._ToastrService.success(i.message),this._Renderer2.removeAttribute(a,"disabled"),this._CartService.cartNum.next(i.numOfCartItems)},error:i=>{console.log(i),this._Renderer2.removeAttribute(a,"disabled")}})}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(t.sFG),t.rXU(_.m),t.rXU(o.tw),t.rXU(s.I),t.rXU(l.nX))};static#r=this.\u0275cmp=t.VBU({type:n,selectors:[["app-product-category"]],standalone:!0,features:[t.aNF],decls:3,vars:2,consts:[[1,"mt-16","mb-5"],["class","grid-cols-12 grid justify-center gap-4 cursor-pointer",4,"ngIf"],["class","nb-spinner",4,"ngIf"],[1,"grid-cols-12","grid","justify-center","gap-4","cursor-pointer"],["class","col-span-12 sm:col-span-6 md:col-span-4 lg:col-span-3 xl:col-span-2 product border-2 border-green-600 rounded-md",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-6","md:col-span-4","lg:col-span-3","xl:col-span-2","product","border-2","border-green-600","rounded-md"],[3,"routerLink"],[1,"imgScale"],[1,"w-full",3,"src","alt"],[1,"px-3"],[1,"font-light","text-lg","dark:text-gray-200"],[1,"font-normal","text-lg","text-main"],[1,"flex","justify-between","mt-2"],[1,"dark:text-gray-200"],[1,"fa-solid","fa-star","rating-color"],[1,"px-3","pb-3"],[1,"main-btn","w-full","mt-2","add-btn",3,"click"],["btn",""],[1,"nb-spinner"]],template:function(a,i){1&a&&(t.j41(0,"section",0),t.DNE(1,E,2,1,"div",1),t.k0s(),t.DNE(2,f,1,0,"div",2)),2&a&&(t.R7$(1),t.Y8G("ngIf",0!=i.displayProductCategory.length),t.R7$(1),t.Y8G("ngIf",0==i.displayProductCategory.length))},dependencies:[d.MD,d.Sq,d.bT,l.Wk],data:{animation:[(0,c.hZ)("translateY",[(0,c.kY)("void=>*",[(0,c.iF)({opacity:0,transform:"translateY(100px)"}),(0,c.i0)(500,(0,c.iF)({opacity:1,transform:"translateY(0)"}))])])]}})}return n})()},7889:(C,p,e)=>{e.d(p,{I:()=>c});var d=e(2598),l=e(1626);let c=(()=>{class t{constructor(o){this._HttpClient=o,this.baseUrl="https://ecommerce.routemisr.com/api/v1/"}getProduct(o=1){return this._HttpClient.get(this.baseUrl+`products?page=${o}`)}getCategory(){return this._HttpClient.get(this.baseUrl+"categories")}getProductCategory(o){return this._HttpClient.get(this.baseUrl+`products?category[in]=${o}`)}getDetails(o){return this._HttpClient.get(this.baseUrl+`products/${o}`)}getBrands(){return this._HttpClient.get(this.baseUrl+"brands")}getProductBrands(o){return this._HttpClient.get(this.baseUrl+`products?brand=${o}`)}static#t=this.\u0275fac=function(s){return new(s||t)(d.KVO(l.Qq))};static#r=this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})()},6323:(C,p,e)=>{e.d(p,{m:()=>t});var d=e(4412),l=e(2598),c=e(1626);let t=(()=>{class _{constructor(s){this._HttpClient=s,this.cartNum=new d.t(0),this.baseUrl="https://ecommerce.routemisr.com/api/v1/"}addToCart(s){return this._HttpClient.post(this.baseUrl+"cart",{productId:s})}getCart(){return this._HttpClient.get(this.baseUrl+"cart")}removeCart(s){return this._HttpClient.delete(this.baseUrl+`cart/${s}`)}clearAllCart(){return this._HttpClient.delete(this.baseUrl+"cart")}changeCountCart(s,u){return this._HttpClient.put(this.baseUrl+`cart/${s}`,{count:u})}checkOutPayment(s,u){return this._HttpClient.post(`https://ecommerce.routemisr.com/api/v1/orders/checkout-session/${s}?url=https://moust2fa.github.io/E-Commerce/`,{shippingAddress:u})}allOrder(){return this._HttpClient.get(this.baseUrl+"orders/")}static#t=this.\u0275fac=function(u){return new(u||_)(l.KVO(c.Qq))};static#r=this.\u0275prov=l.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()}}]);